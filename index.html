<!doctype html>
<html>
<head>
<meta charset="utf8">
<title>DownloadButton Demos</title>

<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/4.11.0/codemirror.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/4.11.0/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/4.11.0/mode/javascript/javascript.min.js"></script>

<script src="https://jaredly.github.io/demobox/react.js"></script>
<script src="https://jaredly.github.io/demobox/demobox.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">

<link rel="stylesheet" href="https://jaredly.github.io/demobox/demobox.css">
<link rel="stylesheet" href="https://jaredly.github.io/demobox/theme.css">

<link href="https://fonts.googleapis.com/css?family=Fugaz+One|Monda" rel="stylesheet"/>
<style>

#header {
    font-family: "Fugaz One", sans-serif;
}

#main {
    font-family: "Monda", serif;
}

#header {
    background-color: #e91e63;
}

#header .subtitle {
    color: #fce4ec;
}

.link {
    background-color: #880e4f;
}

.link:hover {
    background-color: #c2185b;
}

.link[href=""] {
    background-color: #c2185b;
    cursor: normal;
}

.DemoBox_head {
    background-color: #e91e63;
    color: white;
}
</style>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.95.0/css/materialize.min.css">
<script src="download-button.js"></script>
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.95.0/js/materialize.min.js"></script>


<script></script>
<style>.DownloadButton {
  font-size: 16px;
  font-family: sans-serif;
}</style>
</head>
<body>


<header id="header">
    <div class="title">
        DownloadButton Demos
    </div>
    <div class="subtitle">
        
    </div>

    <a class="link" href="">home</a>
<a class="link" href="demo.html">demos</a>
<a class="link" href="https://github.com/notablemind/downloadbutton">github</a>
</header>

<section id="main">
<p>DownloadButton is a simple component for letting the user <strong>download a
javascript-generated file.</strong> It was extracted from
<a href="https://github.com/notablemind/notablemind" target="_blank">Notablemind</a>.</p>
<p>The styling is due to <a href="http://materializecss.com/" target="_blank">materializecss</a>, and does
not come with the <code>DownloadButton</code> component. You are free to style the
component however you wish.</p>

<a name="demo"></a>
<section>
<h2><a href="#demo">Demo</a></h2>
<textarea data-demobox height="150" output="true" position="right" lang="jsx">
function makeFile() {
  // do some calculations
  return {
    mime: 'text/plain',
    filename: 'myexportedfile.txt',
    contents: 'all of the exports',
  }
}


&lt;DownloadButton
  // these classes come from materializecss
  className='waves-effect waves-light btn' 
  genFile={makeFile}/>
</textarea><p>For more demos, see <a href="demo.html">the demo page</a>.</p>
</section>

<a name="node-start"></a>
<section>
<h2><a href="#node-start">Node Start</a></h2>
<pre><code class="bash">npm install --save downloadbutton
</code></pre>
<pre><code class="js"><span class="hljs-keyword">var</span> DownloadButton = <span class="hljs-built_in">require</span>(<span class="hljs-string">'downloadbutton'</span>)

<span class="hljs-comment">// use it somewhere!</span>
</code></pre>
<p>If you&#39;re not using browserify, you&#39;ll need to use the precompiled version, as
the source is written using <code>jsx</code> and <code>es6</code> syntax.</p>
<pre><code class="js"><span class="hljs-keyword">var</span> DownloadButton = <span class="hljs-built_in">require</span>(<span class="hljs-string">'downloadbutton/es5'</span>)

<span class="hljs-comment">// use it</span>
</code></pre>
</section>

<a name="api"></a>
<section>
<h2><a href="#api">API</a></h2>

<a name="props"></a>
<section>
<h3><a href="#props">Props</a></h3>
<p><a href="https://notablemind.github.io/downloadbutton/demo.html" target="_blank">view demo</a></p>
<p>When <code>async=true</code>, the behavior is differnet. See the next section. See a demo
on <a href="demo.html">the demo page</a>.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fileData</code></td>
<td><code>fileData</code></td>
<td>If passed in, genFile will be ignored, and this file will be served.</td>
</tr>
<tr>
<td><code>genFile</code></td>
<td><code>fn () -&gt; fileData</code> or <code>fn (done: fn(fileData))</code></td>
<td>Synchronous functions can just return the <code>fileData</code> object. If the <code>async</code> prop is <code>true</code>, then <code>genFile</code> should accept a callback function.</td>
</tr>
<tr>
<td><code>downloadTitle</code></td>
<td><code>string</code> or react element, or <code>fn (fileData) -&gt; string / react element</code></td>
<td>The text shown on the button. If a function, it will be passed the <code>fileData</code> in the case that it has been passed in as props. Default: <code>&quot;Download&quot;</code></td>
</tr>
</tbody>
</table>
<p>You must pass in either <code>fileData</code> or <code>genFile</code>.</p>
</section>

<a name="props--async-true-"></a>
<section>
<h3><a href="#props--async-true-">Props (async=true)</a></h3>
<p><a href="https://notablemind.github.io/downloadbutton/demo.html#asynchronous-generation" target="_blank">view demo</a></p>
<p>If <code>fileData</code> is passed in, the <code>async</code> prop is <strong>ignored</strong>, and the component
will use the synchronous behavior.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>async</code></td>
<td><code>bool</code></td>
<td>Set to true if <code>genFile</code> is an async function. Default: false.</td>
</tr>
<tr>
<td><code>generateTitle</code></td>
<td><code>string</code> or react element</td>
<td>The text shown initially. Default: <code>&quot;Generate file&quot;</code></td>
</tr>
<tr>
<td><code>loadingTitle</code></td>
<td><code>string</code> or react element</td>
<td>The text shown while the file is being generated. Default: <code>&quot;Loading...&quot;</code></td>
</tr>
<tr>
<td><code>downloadTitle</code></td>
<td><code>string</code> or react element, or <code>fn (fileData) -&gt; string / react element</code></td>
<td>The text shown on the button. If a function, it will be passed the generated <code>fileData</code>. Default: <code>&quot;Download&quot;</code></td>
</tr>
</tbody>
</table>
</section>

<a name="the-filedata-type"></a>
<section>
<h3><a href="#the-filedata-type">The <code>fileData</code> type</a></h3>
<pre><code class="json">{
  mime: str,
  filename: str,
  content: str
}
</code></pre>
</section>
<footer>
    <p>page rendered with <a href="https://jaredly.github.io/demobox">demobox</a></p>
    <p>view the <a href="https://github.com/notablemind/downloadbutton/raw/master/Readme.md">markdown source</a> for this page</p>
</footer>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-7002862-5', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
